START:
IN 10H 
LXI B,01F4H   ;Εκχωρώ στους καταχωρητές B και C την τιμη 01F4H=500ms των 16 bit για να καλέσω αργότερα την υπορουτίνα DELB για καθυστέρηση 500ms
MVI E,01H     ;Εκχωρώ στον E την τιμή 01Η για να ορίσω ότι πρώτα ανάβει το 1ο Led


MAIN:
LDA 2000H    ;Εκχωρώ στον καταχωρητή Α την είσοδο από τους διακόπτες
RAR          
RAR          ;Κάνω δύο δεξιές περιστροφές στον Α προκειμένου να ελέγξω το δεύτερο LSB      
JC LAMP      ;Αν το δεύτερο LSB είναι ίσο με 1 τότε πρέπει να ανάβει συνεχώς το 10 LED
RAL          
RAL          ;Δύο αριστερές περιστροφές για να επαναφέρω το Α
CALL DELB    ;Καλώ την ρουτίνα DELB για την καθυστέρηση
RAR          ;Δεξιά περιστροφή του Α για να ελέγξω το LSB
JNC LEFT     ;Αν είναι ίσο με 0 κάνω συνεχόμενα άλματα προς τα αριστερά από εκεί που άναψε το τελευταίο LED
MOV A,E      ;Μεταφέρω στον Α τον αριθμό που δείχνει ποιό LED πρέπει να ανάψει
CPI 01H      ;Συγκρίνω το Α με το 01Η (πρώτο LED)
JZ LEFT      ;Αν είναι ίσα κάνω άλμα προς τα αριστερά
CPI 80H      ;Συγκρίνω το Α με το 80Η (τελευταίο LED)
JZ RIGHT     ;Αν είναι ίσα κάνω άλμα προς τα δεξιά 
MOV A,D      ;Χρησιμοποιώ τον καταχωρητή ως FLAG και τον μεταφέρω στον Α
CPI 00H      
JZ LEFT      ;Αν το FLAG είναι ίσο με 0 τότε κάνω άλμα προς τα αριστερά
JMP RIGHT    ;Αλλιώς (αν είναι ίσο με 1) κάνω άλμα προς τα δεξιά

LAMP:
MVI A,01H    ;Εκχωρώ στον Α το 01Η για να ανάψει το πρώτο LED
CMA          ;Παίρνω το συμπλήρωμα του Α διότι τα LED είναι αρνητικής λογικής
STA 3000H    ;Αποθηκεύω στη θύρα εξόδου την τιμή του Α
CMA          ;Επαναφέρω την αρχική τιμή του Α
JMP MAIN     ;Κάνω αλμα πίσω στην MAIN προκειμένου να ελέγξω αν έχει αλλάξει η τιμή της εισόδου των διακοπτών

LEFT:
MOV A,E      ;Μεταφέρω στον Α την τιμή που δείχνει ποιό LED πρέπει να ανάψει
CMA          ;Παίρνω το συμπλήρωμα του Α
STA 3000H    ;Αποθηκεύω στη θύρα εξόδου το Α που δείχνει ποιό LED θα ανάψει
CMA          ;Επαναφέρω την αρχική τιμή του Α
RLC          ;Ολισθαίνω μία θέση αριστερά για να οριστεί το επόμενο LED που θα ανάψει
MOV E,A      ;Μεταφέρω στον Ε το αποτέλεσμα 
MVI D,00H    ;Ενημερώνω τη σημαία D 
JMP MAIN     ;Κάνω αλμα πίσω στην MAIN προκειμένου να ελέγξω αν έχει αλλάξει η τιμή της εισόδου των διακοπτών

RIGHT:
MOV A,E     ;Μεταφέρω στον Α την τιμή που δείχνει ποιό LED πρέπει να ανάψει
CMA         ;Παίρνω το συμπλήρωμα του Α
STA 3000H   ;Αποθηκεύω στη θύρα εξόδου το Α που δείχνει ποιό LED θα ανάψει
CMA         ;Επαναφέρω την αρχική τιμή του Α
RRC         ;Ολισθαίνω μία θέση δεξιά για να οριστεί το επόμενο LED που θα ανάψει
MOV E,A     ;Μεταφέρω στον Ε το αποτέλεσμα 
MVI D,01H   ;Ενημερώνω τη σημαία D
JMP MAIN    ;Κάνω αλμα πίσω στην MAIN προκειμένου να ελέγξω αν έχει αλλάξει η τιμή της εισόδου των διακοπτών
END