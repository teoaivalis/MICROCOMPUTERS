
START:
ERWTHMA_A:
IN 10H         ;аясг пяостасиас лмглгс
LXI H,0900H    ;жоятысг диеухумсгс 0900 стом H-L 
MVI B,00H      ;аявийопоигсг йатавыягтым
MVI A,00H

MEM_NUMS:   
MOV M,B        ;жоятысг стг лмглг тоу йатаккгкоу аяихлоу 
INR A          ;аунамы то летягтг а
CPI 00H        ;екецвос ам ежтаса сто 255
JZ ERWTHMA_B     ;ам маи паы сто еяытгла
INX H          ;аунамы то дипко йатавыягтг H-L циа ма паяы тгм еполемг хесг лмглгс
INR B          ;аунамы том аяихло лоу 
JMP MEM_NUMS  

ERWTHMA_B:
LXI H,0900H    ;пгцаимы паки стг хесг лмглгс поу евеи том пяыто аяихло
MVI B,08H      ;йатавыяы стом б то 8 (дейадийо) циати йахе аяихлос амапаяистатаи ле 8 BIT 
MVI D,00H      ;лгдемифы тоус йатавыягтес
MVI E,00H

COUNT_ZEROS:
MOV A,M        ;йатавыяы стом а том аяихло апо тг лмглг

BIT_CHECK:
MOV C,A        ;пяосыяимо сысило тоу а
MOV A,B        ;летажеяы стом а том летягтг  
CPI 00H        ;екецвы ам текеиысам та ьгжиа тоу ейастоте аяихлоу 
JZ NEXT_CHECK    ;ам текеиысам паы стом еполемо
MOV A,C        
RAL            ;аяистеяг окисхгсг тоу аяихлоу
DCR B          ;леиысг тоу летягтг
JC BIT_CHECK   ;екецвос лесы тгс сглаиас йяатоулмоу циа 0 ╧ 1
INX D          ;аунгсг тоу феуцоус йатавыягтым D-E
JMP BIT_CHECK  


NEXT_CHECK:
INX H          ;аунгсг тоу феуцоус йатавыягтым H-L
MOV A,H        
CPI 0AH          ;екецвос циа то ам евеи непеяасеи тг текеутаиа хесг лмглгс поу евоум апохгйеутеи ои аяихлои (09FF)
JZ ERWTHMA_C     ;ам маи пгцаимы сто еполемо еяытгла
MVI B,08H        ;епамаявийопоиы том летягтг тым BITS
JMP COUNT_ZEROS

ERWTHMA_C:

LXI H,0900H    ;пгцаимы паки стг хесг лмглгс поу евеи том пяыто аяихло
MVI C,00H      ;аявийопоигсг тоу летягтг

ENTOS_ORIWN:
MOV A,M        ;жоятысг апо тг лмглг тоу аяихлоу 
CPI 20H        
JC NEXT_NUM    ;ам о аяихлос поу евы еимаи лийяотеяос апо то 20г пгцаимы стом еполемо
CPI 71H        
JNC END_PROGRAM   ;ам о аяихлос еимаи лецакутеяос тоу 70г тоте текеиымеи то пяоцяалла
INR C          ;аккиыс аунамы том летягтг

NEXT_NUM: 
INX H          ;аунгсг тоу феуцоус йатавыягтым H-L     
MOV A,H
CPI 0AH        ;екецвос циа то ам евеи непеяасеи тг текеутаиа хесг лмглгс поу евоум апохгйеутеи ои аяихлои (09FF)
JZ END_PROGRAM     ;ам маи текеиымеи то пяоцяалла
JMP ENTOS_ORIWN   ;аккиыс пгцаимы стом еполемо аяихло

END_PROGRAM:
RST 1
END


