INR16 MACRO ADDR
PUSH PSW
PUSH H                         ;апохгйеуоуле стг стоиба тис тилес тым йатавыягтым поу вягсилопоиоуле
LHLD ADDR                      ;жоятымоуле сто дипко йатавыягтг H-L том 16-бит аяихло поу еимаи апохгйеулемос стис хесеис ADDR йаи ADDR+1
MOV A,L
CPI FFH                        ;екецвос циа то ам та тессеяа LSB еимаи 1111 йаи ам еимаи та лгдемифоуле йаи пяосхетоуле 1 сто 8О BIT тоу аяихлоу
JNZ LABEL_1
MVI L,00H                      ; лгдемислос 8-LSB
MOV A,H                        ;екецвос циа то ам та 8 MSB еимаи йаи аута иса ле 1 йаи ам еимаи та лгдемифоуле 
CPI FFH
JZ lABEL_2
INR H                          ;аккиыс аунамоуле то г йата 1 опыс пяоамажеяхгйе
JMP END_LABEL
lABEL_2:
MVI H,00H                      ;лгдемислос 8-LSB 
JMP END_LABEL
LABEL_1:
INR L                          ;ам дем исвуеи йати апо та паяапамы апка аунамоуле том йатавыягтг L ле та 8-LSB 
END_LABEL
SHLD ADDR
POP H
POP PSW                        ;бцафоуле апо тг стоиба о,ти еивале апохгйеусеи 
ENDM











FILL MACRO ADDR,K
PUSH PSW
PUSH H
PUSH B                    ;апохгйеуоуле стг стоиба тис тилес тым йатавыягтым поу вягсилопоиоуле 
LXI H,ADDR                ;бафоуле тг диеухумсг ADDR стом дипко йатавыягтг H-L
MVI B,K                   ;вягсилопоиоуле том б ыс йатавыягтг
MVI M,K                   ;бафоуле стг хесг лмглгс ADDR то й
INX H                     ;аунамоуле тг хесг лмглгс 

MVI A,K
CPI 00H                   ;екецвос циа то ам то й еимаи исо ле 0
JZ LABEL_1
LABEL_3:
DCR B                     ;леиымоуле то летягтг
MOV M,B                   ;апохгйеуоуле стгм еполемг хесг лмглгс том еполемо аяихло
INX H                     ;аунамоуле тг диеухумсг
MOV A,B
CPI 00H                   ;екецвоуле ам евоуле йакуьеи окес тис хесеис
JZ LABEL_2                ;ам маи пгцаимоуе сто текос
JMP LABEL_3               ;ам ови епамакалбамоуле тг диадийасиа 


LABEL_1:
MVI B,FFH                 ;бафоуле стом б то 255 циа тгм пеяиптысг поу то й еимаи исо ле 0 йаи ейтекоуле епамакгптийа
JMP LABEL_3               ;тгм паяапамы диадийасиа


LABEL_2:
POP B
POP H
POP PSW                   ;епамажеяоуле стоус йатавыягтес тис аявийес тоус тилес
ENDM

















RLHR MACRO Q,R
PUSH PSW                  ;апохгйеуоуле стг стоиба тис тилес тым йатавыягтым
MOV A,R                   
RAL                       ;окисхаимоуле лиа жояа аяистеяа том R йамомтас R0<-CY, CY<-R7
MOV R,A
MOV A,Q
RAL                       ;окисхаимоуле лиа жояа аяистеяа том Q йамомтас Q0<-CY<-R7, CY<-Q7
MOV Q,A
POP PSW                   ;епамажеяоуле стоус йатавыягтес тис аявийес тоус тилес
ENDM



