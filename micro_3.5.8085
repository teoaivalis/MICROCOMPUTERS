START:
MVI A,0EH           ; аявийопоигсг ласйас диайопым
SIM            
LXI H,0000H         ; лгдемислос суссояеутг 
MVI B,20H           ; бафы сто б том летягтг циа тис 32(дейадийо) сумокийа диайопес
MVI D,00H           ; аявийопоигсг тоу D сто лгдем  
EI                  ; емеяцопоигсг диайопым     
  
ADDR:               ; бяовос амаломгс левяи ма диабастоум ока та дедолема
MOV A,B     
CPI 00H             ; екецвы ам о б евеи тгм тилг 0
                    
JNZ ADDR            ; ам дем еимаи лгдем сумевифы ма диабафы дедолема
DI                  ; апемеяцопоиы тис диайопесажоу евеи текеиысеи    
                    ; г амацмысг йаи тым 32 дедолемым  
DAD H               ; упокоцифы тыяа том лесо ояо окисхаимымтас 4 
DAD H               ; хесеис пяос та аяистеяа том дипко йатавыягтг H-L    
DAD H   
DAD H  
HLT 
  
RST5.5:   
PUSH PSW  
IN 20H  
ANI 0FH             ; йяатаы ломо та 4 LSBs  
MOV C,A   
MOV A,B             ; екецвы том летягтг  
RAR                 ; ам еимаи аятиос ╧ пеяиттос  
                                      
JNC FIRST_FOUR      ; ам CY=0 тоте еимаи аятиос йаи йамы JUMP стгм FIRST_FOUR           
MOV A,C               
ADD E  
MOV E,A  
DAD D               ; пяосхесг тым дедолемым 
                    ; (H)(L) <- (H)(L) + (D) (E) 
STEP:   
DCR B               ; еккатысг тоу летягтг  
POP PSW  
EI  
RET 
  
FIRST_FOUR: 
MOV A,C  
RLC                 ; йамы аяистеяг окисхгсг йаи паы та 4 BIT поу аполомыса ста 4 MSB
RLC  
RLC  
RLC                
MOV E,A             ; апохгйеуы та 4 LSBs стом E  
JMP STEP  

END 


































